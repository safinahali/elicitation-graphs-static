<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cancer Diagnosis</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>

	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>

	<link rel="icon" type="image/png" href="/favicon.png"/>

	<script>
	  // Your web app's Firebase configuration
	  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
	  var firebaseConfig = {
	    apiKey: "AIzaSyDSBbFAqBoxyeauD8Floci3BrD0UkvOhgg",
	    authDomain: "metric-elicitation.firebaseapp.com",
	    databaseURL: "https://metric-elicitation-default-rtdb.firebaseio.com",
	    projectId: "metric-elicitation",
	    storageBucket: "metric-elicitation.appspot.com",
	    messagingSenderId: "828132856142",
	    appId: "1:828132856142:web:1a7f9b6680ed64d1348e1f",
	    measurementId: "G-ZSLY684MQG"
	  };
	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);
	  firebase.analytics();
	  database = firebase.database();

	  //data logging is set up here. need to log all the data selected
	  function logdata(){
	  	var uid = document.getElementById('uid').value;
	  	localStorage.setItem("uid", uid);

	  	var age = document.getElementById('age').value;
	  	var genderArray = [];
	  	var genderCheck = document.getElementsByName('gender');
	  	var raceArray = [];
	  	var raceCheck = document.getElementsByName('race');
	  	var mlArray = [];
	  	var mlCheck = document.getElementsByName('ml');
	  	var degree;
	  	var degreeCheck = document.getElementsByName('degree');


	  	for (var i=0;i<genderCheck.length;i++){
		  if ( genderCheck[i].checked ) {
		    genderArray.push(genderCheck[i].value);
		  }
		}

		for (var i=0;i<raceCheck.length;i++){
		  if ( raceCheck[i].checked ) {
		    raceArray.push(raceCheck[i].value);
		  }
		}

		for (var i=0;i<mlCheck.length;i++){
		  if ( mlCheck[i].checked ) {
		    mlArray.push(mlCheck[i].value);
		  }
		}

		for (var i=0;i<degreeCheck.length;i++){
		  if ( degreeCheck[i].checked ) {
		    degree = degreeCheck[i].value;
		  }
		}

	  	var ref = database.ref(uid);
	  	ref.push({
	  		UID: uid,
	  		Age: age,
	  		Gender: genderArray,
	  		Race: raceArray,
	  		Education: degree,
	  		MLExpertise: mlArray

	  	});

	  	window.setTimeout(function(){

        // Move to a new location or you can do something else
        window.location.href = "prelim.html";

    	}, 1000);

	  	// window.location.href = 'prelim.html';
	  }

	  
	</script>

</head>
<body>

<div class="container">

	
		  <h3>Background Information </h3>

		  <div id = "r1">

			<p> UID</p>		
			<div class="form-group">
				<input type="text" class="form-control" placeholder="Response" id = "uid">
			</div>
			
		  </div>

		  <div id = "r2">

			<p> What is your age?</p>		
			<div class="form-group">
				<input type="text" class="form-control" placeholder="Response" id = "age">
			</div>
			
		  </div>


		 
		  <div id = "r3">
			<p> Choose one or more genders that you identify as:</p>		
			<div class="form-group">
			        <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="gender" id="gridCheckbox1" value="woman" >
			          <label class="form-check-label" for="gridCheckbox1">
			            Woman
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="gender" id="gridCheckbox2" value="man" >
			          <label class="form-check-label" for="gridCheckbox2">
			            Man
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="gender" id="gridCheckbox3" value="nonbinary" >
			          <label class="form-check-label" for="gridCheckbox3">
			            Non-Binary
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="gender" id="gridCheckbox4" value="prefernot" >
			          <label class="form-check-label" for="gridCheckbox4">
			            Prefer not to disclose
			          </label>
			        </div>
			          <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="gender" id="gridCheckbox5" value="other" >
			          <label class="form-check-label" for="gridCheckbox5">
			            Other
			          </label>
			      </div>
			        
			</div>

		</div>

		<div id = "r4">
			<p> Choose one or more races/ethnicities that you identify as:</p>		
			<div class="form-group">

			        <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox1" value="AmericanIndian" >
			          <label class="form-check-label" for="gridCheckbox1">
			            American Indian or Alaskan Native
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox2" value="Asian" >
			          <label class="form-check-label" for="gridCheckbox2">
			            Asian
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox3" value="Black" >
			          <label class="form-check-label" for="gridCheckbox3">
			            Black or African American
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox4" value="Hispanic" >
			          <label class="form-check-label" for="gridCheckbox4">
			            Hispanic or Latino
			          </label>
			        </div>
			          <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox5" value="MiddleEastern" >
			          <label class="form-check-label" for="gridCheckbox5">
			            Middle Eastern
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox6" value="Hawaiian" >
			          <label class="form-check-label" for="gridCheckbox6">
			            Native Hawaiian or Pacific Islander
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox7" value="White" >
			          <label class="form-check-label" for="gridCheckbox7">
			            White
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox8" value="Prefernot" >
			          <label class="form-check-label" for="gridCheckbox8">
			            Prefer not to disclose
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="race" id="gridCheckbox9" value="Other" >
			          <label class="form-check-label" for="gridCheckbox9">
			            Other
			          </label>
			        </div>
			        
			</div>
		  </div>

		  <div id = "r5">
			<p> What is the highest level of school you have completed or the highest degree you have received?</p>		
			<div class="form-group">

			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios1" value="lessThanHigh" >
			          <label class="form-check-label" for="gridRadios1">
			            Less than high school
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios2" value="high">
			          <label class="form-check-label" for="gridRadios2">
			            High school or equivalent
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios3" value="currentCollege">
			          <label class="form-check-label" for="gridRadios3">
			            Some college, currently enrolled in college, or two-year associateâ€™s degree
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios4" value="bachelors">
			          <label class="form-check-label" for="gridRadios4">
			            Bachelor's degree
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios5" value="currentGraduate">
			          <label class="form-check-label" for="gridRadios5">
			            Some graduate school, or currently enrolled in graduate school
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios6" value="masters">
			          <label class="form-check-label" for="gridRadios6">
			            Master's or professional degree
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="degree" id="gridRadios7" value="phd">
			          <label class="form-check-label" for="gridRadios7">
			            Doctorate degree
			          </label>
			        </div>
			        
			</div>
			
		  </div>

		  <div id = "r6">
			<p> What is your expertise with Machine Learning?</p>		
			<div class="form-group">

			        <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="ml" id="gridCheckbox1" value="none" >
			          <label class="form-check-label" for="gridCheckbox1">
			            None at all
			          </label>
			        </div>
			         <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="ml" id="gridCheckbox3" value="beginner" >
			          <label class="form-check-label" for="gridCheckbox3">
			            Beginner
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="ml" id="gridCheckbox4" value="intermediate" >
			          <label class="form-check-label" for="gridCheckbox4">
			            Intermediate
			          </label>
			        </div>
			          <div class="form-check">
			          <input class="form-check-input" type="checkbox" name="ml" id="gridCheckbox5" value="advanced" >
			          <label class="form-check-label" for="gridCheckbox5">
			            Advanced
			          </label>
			        </div>
			         
			        
			</div>
		  </div>

		  <button id = "switchbtn" type="button" class="btn btn-success text-right" onclick="logdata()"> Next </button>
</div>

</body>
</html>
