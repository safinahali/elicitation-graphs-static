<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cancer Diagnosis</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>

	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>

	<link rel="icon" type="image/png" href="/favicon.png"/>

	<script>
	  // Your web app's Firebase configuration
	  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
	  var firebaseConfig = {
	    apiKey: "AIzaSyDSBbFAqBoxyeauD8Floci3BrD0UkvOhgg",
	    authDomain: "metric-elicitation.firebaseapp.com",
	    databaseURL: "https://metric-elicitation-default-rtdb.firebaseio.com",
	    projectId: "metric-elicitation",
	    storageBucket: "metric-elicitation.appspot.com",
	    messagingSenderId: "828132856142",
	    appId: "1:828132856142:web:1a7f9b6680ed64d1348e1f",
	    measurementId: "G-ZSLY684MQG"
	  };
	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);
	  firebase.analytics();
	  database = firebase.database();

	  //data logging is set up here. need to log all the data selected
	  function logdata(){
	  	var uid = localStorage.getItem("uid");
	  	var q41;
	  	var q42;
	  	var q41Check = document.getElementsByName('q41');
	  	var q42Check = document.getElementsByName('q42');

	  	for (var i=0;i<q41Check.length;i++){
		  if ( q41Check[i].checked ) {
		    q41 = q41Check[i].value;
		  }
		}

		for (var i=0;i<q42Check.length;i++){
		  if ( q42Check[i].checked ) {
		    q42 = q42Check[i].value;
		  }
		}

	  	var ref = database.ref(uid);
	  	ref.push({
	  		UID: uid,
	  		q41: q41,
	  		q42: q42,
	  	});

	  	window.setTimeout(function(){

        // Move to a new location or you can do something else
        window.location.href = "boots/index.html";

    	}, 1000);

	  	// window.location.href = 'prelim.html';
	  }
	  
	</script>

</head>
<body>

<div class="container">

	
		  <h3>Cancer Diagnosis </h3>
		  <p>Please answer the following questions based on the figures below. </p>

			<div class="row"> 
				<div class = "col-md-6">
					<p> <b> Computer System A </b></p> 
					<img id = "bar" src="img/bar.svg">
					<img id = "chart" src="img/chart.svg">
				</div>
				<div class = "col-md-6">
					<p> <b> Computer System B </b></p> 
					<img id = "bar" src="img/bar-2.svg">
					<img id = "chart" src="img/chart-2.svg">
				</div>
			</div>

		  <h4> Questions </h4>

		  <div id = "r1">
			<p> Which computer system would you prefer your doctor to use?</p>		
			<div class="form-group">

			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="q41" id="gridRadios1" value="option1" checked>
			          <label class="form-check-label" for="gridRadios1">
			            Computer System A
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="q42" id="gridRadios2" value="option2">
			          <label class="form-check-label" for="gridRadios2">
			            Computer System B
			          </label>
			        </div>
			</div>
			
		  </div>
		  
		  <button id = "switchbtn" type="button" class="btn btn-success text-right" onclick="logdata()"> Next </button>
	</div>

</div>

</body>
</html>
