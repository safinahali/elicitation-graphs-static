<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cancer Diagnosis</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>

	<link href="sticky-footer.css" rel="stylesheet">

	<!-- TODO: Add SDKs for Firebase products that you want to use
	     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>

	<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>

	<link rel="icon" type="image/png" href="/favicon.png"/>

	<script>
	  // Your web app's Firebase configuration
	  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
	  // var firebaseConfig = {
	  //   apiKey: "AIzaSyDSBbFAqBoxyeauD8Floci3BrD0UkvOhgg",
	  //   authDomain: "metric-elicitation.firebaseapp.com",
	  //   databaseURL: "https://metric-elicitation-default-rtdb.firebaseio.com",
	  //   projectId: "metric-elicitation",
	  //   storageBucket: "metric-elicitation.appspot.com",
	  //   messagingSenderId: "828132856142",
	  //   appId: "1:828132856142:web:1a7f9b6680ed64d1348e1f",
	  //   measurementId: "G-ZSLY684MQG"
	  // };


	  const firebaseConfig = {
		  apiKey: "AIzaSyBz4EIwmwsA2MnrYpmrpGzXTVMtVYJ0LWQ",
		  authDomain: "metric-elicitation-de0b6.firebaseapp.com",
		  databaseURL: "https://metric-elicitation-de0b6-default-rtdb.firebaseio.com",
		  projectId: "metric-elicitation-de0b6",
		  storageBucket: "metric-elicitation-de0b6.appspot.com",
		  messagingSenderId: "439386313917",
		  appId: "1:439386313917:web:219ec0aac9e0cdfea5d3d4",
		  measurementId: "G-DNSGXECNMD"
		};

	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);
	  firebase.analytics();
	  database = firebase.database();

	  //data logging is set up here. need to log all the data selected
	  function logdata(){
	  	var uid = localStorage.getItem("uid");
	  	var q21;
	  	var q22;
	  	var q21Check = document.getElementsByName('q21');
	  	var q22Check = document.getElementsByName('q22');
	  	// var q23 = document.getElementById('q23').value;
	  	// var q24 = document.getElementById('q24').value;



	  	for (var i=0;i<q21Check.length;i++){
		  if ( q21Check[i].checked ) {
		    q21 = q21Check[i].value;
		  }
		}

		for (var i=0;i<q22Check.length;i++){
		  if ( q22Check[i].checked ) {
		    q22 = q22Check[i].value;
		  }
		}

	  	var ref = database.ref(uid);
	  	ref.push({
	  		UID: uid,
	  		q21: q21,
	  		q22: q22
	  	});

	  	window.setTimeout(function(){

        // Move to a new location or you can do something else
        window.location.href = "q3.html";

    	}, 1000);

	  	// window.location.href = 'prelim.html';
	  }
	  
	</script>
</head>
<body>

<div class="container">

	
		  <h3>Cancer Diagnosis </h3>
		  <p>Please answer the following questions based on the figures below. </p>

			<div class="row"> 
				<div class = "col-md-6">
					<p> <b> Computer System A </b></p> 
					<!-- <img id = "bar" src="img/bar.svg"> -->
					<img id = "chart" src="img/chart.svg">
				</div>
				<div class = "col-md-6">
					<p> <b> Computer System B </b></p> 
					<!-- <img id = "bar" src="img/bar-2.svg"> -->
					<img id = "chart" src="img/chart-2.svg">
				</div>
			</div>

		  <h4> Questions </h4>

		  <div id = "r1">

			<p> Between Computer System A and Computer System B, which one has more patients who were labelled as high risk but did not have cancer?</p>		
			<div class="form-group">

			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="q21" id="gridRadios1" value="A" >
			          <label class="form-check-label" for="gridRadios1">
			            Computer System A
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="q21" id="gridRadios2" value="B">
			          <label class="form-check-label" for="gridRadios2">
			            Computer System B
			          </label>
			        </div>

			</div>
			
		  </div> 

		  <div id = "r2">

			<p> Between Computer System A and Computer System B, which one has more patients who were labelled as low risk but had cancer?</p>		
			<div class="form-group">

			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="q22" id="gridRadios1" value="A" >
			          <label class="form-check-label" for="gridRadios1">
			            Computer System A
			          </label>
			        </div>
			        <div class="form-check">
			          <input class="form-check-input" type="radio" name="q22" id="gridRadios2" value="B">
			          <label class="form-check-label" for="gridRadios2">
			            Computer System B
			          </label>
			        </div>

			</div>
			
		  </div>

		  <button id = "switchbtn" type="button" class="btn btn-success text-right" onclick="logdata()"> Next </button>
	</div>

</div>

		<footer class="footer">
			<div class="progress">
			  <div class="progress-bar" role="progressbar" style="width: 30%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">30%</div>
			</div>
		</footer>

</body>
</html>
